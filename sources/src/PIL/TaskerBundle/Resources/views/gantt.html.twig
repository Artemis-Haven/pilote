{% extends '::base.html.twig' %}

{# Ceci est le bloc qui remplace le titre de la page (normalement dans le <head>) #}
{% block pageTitle %} {{ parent() }} - {{ board }}{% endblock %}

{# Ceci est le bloc qui remplace le bloc identique de la vue dont cette vue hérite #}
{% block boardTitle %} {{ board }} {% endblock %}

{# Idem, on ajoute les feuilles CSS spécifiques à cette vue dans le block de style #}
{% block styles %}
<link rel="stylesheet" href="{{ asset('css/dhtmlxgantt.css') }}" class="css">
<style type="text/css">
    html, body{ height:100%; padding:25px 0px 0px 0px; margin:0px; }
</style>
{% endblock %}


{# Bloc principal #}
{% block body %}
    <script src="{{ asset('js/board/dhtmlxgantt.js') }}"></script>
    <script src="{{ asset('js/board/dhtmlxgantt_tooltip.js') }}"></script>

    <div id="gantt_here" style='width:100%; height:100%;'>
               {#
        {% for task in tasks.data %}
             Pour chaque item dans TASKS <br>
             Tache : <br>
            {{dump(gantt)}}
        {% endfor %}
             #}
    </div>
<script type="text/javascript">
    
		gantt.init("gantt_here");
                {# Il faut change PHP à JavaScript #}
		gantt.parse({{ganttData|json_encode()|raw}});

	</script>

{% endblock %}


{% block scripts %}
    {{ parent() }}
    
{% endblock %}
